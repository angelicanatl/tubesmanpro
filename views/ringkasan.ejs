<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ringkasan Data</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/ringkasan.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body class="body-ringkasan-data">
  <%- include('header.ejs', { title: 'Your Title', pageTitle: 'Ringkasan Data' }) %>
  <div class="isi">
    <div class="menu">
      <form class="menu-bar" method="post" action="/ringkasan" target="_self">
        <div class="checkbox-container" id="group-by">
          <h2>Group By</h2>
          <h4>*Wajib Pilih minimal 1</h4>
          <label><input type="checkbox" class="groupCol" data-column="Dt_Customer">Tanggal Transaksi</label><br>
          <label><input type="checkbox" class="groupCol" data-column="Education">Jenjang Pendidikan</label><br>
          <label><input type="checkbox" class="groupCol" data-column="Marital_Status">Martial Status</label><br>
        </div>
        <div class="checkbox-container" id="banyak-produk">
          <h4>Pilih dari salah satu kelompok kategori di bawah ini!</h4>
          <h2>1. Banyak Produk</h2>
          <label><input type="checkbox" class="otherCol" data-column="MntWines">Wine</label><br>
          <label><input type="checkbox" class="otherCol" data-column="MntFruits">Buah-Buahan</label><br>
          <label><input type="checkbox" class="otherCol" data-column="MntMeatProducts">Daging</label><br>
          <label><input type="checkbox" class="otherCol" data-column="MntFishProducts">Ikan</label><br>
          <label><input type="checkbox" class="otherCol" data-column="MntSweetProducts">Makanan Manis</label><br>
          <label><input type="checkbox" class="otherCol" data-column="MntGoldProds">Produk Emas</label><br>
        </div>
        <div class="checkbox-container" id="tempat-transaksi">
          <h2>2. Tempat Transaksi</h2>
          <label><input type="checkbox" class="otherCol" data-column="NumWebPurchases">Web</label><br>
          <label><input type="checkbox" class="otherCol" data-column="NumCatalogPurchases">Katalog</label><br>
          <label><input type="checkbox" class="otherCol" data-column="NumStorePurchases">Toko</label><br>
        </div>
        <div class="checkbox-container" id="pendapatan">
          <h2>3. Pendapatan</h2>
          <label><input type="checkbox" class="otherCol" data-column="Income">Rata-Rata</label><br>
          <!-- <label><input type="checkbox" name="total">Total</label><br> -->
        </div>
        <button class="tampilkan-tabel" type="button">Tampilkan Tabel</button>
      </form>
    </div>
    <div class="tabel-area">
      <table class="tabel-ringkasan" width="60%">
          <thead>
              <tr class="tableHeader">
                  <!-- Table headers will be dynamically generated by JavaScript -->
              </tr>
          </thead>
          <tbody>
              <% if (data != null) { %>
                  <% for (let i = 0; i < data.length; i++) { %>
                      <tr class="tableFill">
                          <% for (const key in data[i]) { %>
                              <td><%= data[i][key] %></td>
                          <% } %>
                      </tr>
                  <% } %>
              <% } %>
          </tbody>
      </table>
    </div>
  </div>
</body>
</html>